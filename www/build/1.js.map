{"version":3,"sources":["../../src/pages/live-match/live-match.module.ts","../../src/pages/live-match/live-match.ts"],"names":[],"mappings":"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","file":"1.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { LiveMatchPage } from './live-match';\n\n@NgModule({\n  declarations: [\n    LiveMatchPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(LiveMatchPage),\n  ],\n})\nexport class LiveMatchPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/live-match/live-match.module.ts","import { Component, ViewChild } from \"@angular/core\";\nimport {\n  IonicPage,\n  NavController,\n  NavParams,\n  Events,\n  Platform,\n  AlertController,\n  Navbar\n} from \"ionic-angular\";\nimport { BasePage } from \"../../common/BasePage\";\nimport { AuthService } from \"../../services/auth.service\";\nimport {\n  AfoListObservable,\n  AngularFireOfflineDatabase\n} from \"angularfire2-offline/database\";\n\n/**\n * Generated class for the LiveMatchPage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n@IonicPage({\n  name: \"live-match\",\n  segment: \"live-match/:id/:audienceId\"\n})\n@Component({\n  selector: \"page-live-match\",\n  templateUrl: \"live-match.html\"\n})\nexport class LiveMatchPage extends BasePage {\n  @ViewChild(\"navbar\") navBar: Navbar;\n  games: AfoListObservable<any[]>;\n  gameId: String;\n  audienceId: String;\n  currentGame: any;\n  pause = false;\n  gameOver = false;\n  isAudience = false;\n\n  constructor(\n    public navCtrl: NavController,\n    public navParams: NavParams,\n    public events: Events,\n    public authService: AuthService,\n    public afoDatabase: AngularFireOfflineDatabase,\n    public alertCtrl: AlertController,\n    public platform: Platform\n  ) {\n    super(navCtrl, authService, alertCtrl, platform);\n    // this.teamA = navParams.get(\"teamA\");\n    // this.teamB = navParams.get(\"teamB\");\n    this.gameId = navParams.get(\"id\");\n    this.audienceId = navParams.get(\"audienceId\");\n    console.log(\"audience: \" + this.audienceId + \" - id: \" + this.gameId);\n  }\n\n  onUserChange(user: any) {\n    if (user != null) {\n      var url = \"\";\n      if (this.audienceId == undefined || this.audienceId == \":audienceId\") {\n        url = \"/users/\" + this.authService.user.uid + \"/games\";\n        this.retrieveGameInfo(url);\n      } else {\n        this.isAudience = true;\n        var users = this.afoDatabase.list(\"/users\");\n        users.subscribe(userList => {\n          userList.forEach(user => {\n            if (user.audienceId == this.audienceId) {\n              url = \"/users/\" + user.$key + \"/games\";\n              console.log(url);\n              this.retrieveGameInfo(url);\n            }\n          });\n        });\n      }\n    }\n  }\n\n  retrieveGameInfo(url: string) {\n    this.games = this.afoDatabase.list(url);\n    this.games.subscribe(items => {\n      var found = false;\n      // items is an array\n      items.forEach(item => {\n        if (item.id == this.gameId) {\n          console.log(\"Item:\", item);\n          this.currentGame = item;\n          if (this.currentGame.live) {\n            if (this.currentGame.sets == undefined) {\n              this.currentGame.sets = [{ a: 0, b: 0 }];\n            } else {\n              if (this.isSetEnded() && !this.isGameOver()) {\n                this.pause = true;\n              } else if (this.isGameOver()) {\n                this.gameOver = true;\n              }\n            }\n          }\n          found = true;\n          if (item.live && !this.isAudience) {\n            this.askBeforeGoBack = true;\n          }\n        }\n      });\n      if (!found) {\n        //TODO: error message\n      }\n    });\n  }\n\n  ionViewDidLoad() {\n    this.onInit(this.navBar);\n  }\n\n  ionViewWillEnter() {\n    this.events.publish(\"currentPage\", \"live-match\");\n  }\n\n  updateSetValue(team: String, increment: boolean) {\n    var teamValue =\n      team == \"a\"\n        ? this.currentGame.sets[\n            this.currentGame.resultA + this.currentGame.resultB\n          ].a\n        : this.currentGame.sets[\n            this.currentGame.resultA + this.currentGame.resultB\n          ].b;\n    if (increment) {\n      teamValue = teamValue + 1;\n    } else {\n      teamValue = teamValue == 0 ? 0 : teamValue - 1;\n    }\n\n    if (team == \"a\") {\n      this.currentGame.sets[\n        this.currentGame.resultA + this.currentGame.resultB\n      ].a = teamValue;\n    } else {\n      this.currentGame.sets[\n        this.currentGame.resultA + this.currentGame.resultB\n      ].b = teamValue;\n    }\n\n    if (this.isSetEnded() && !this.isGameOver()) {\n      this.pause = true;\n    } else if (this.isGameOver()) {\n      this.gameOver = true;\n    }\n    this.updateGame();\n  }\n\n  isSetEnded() {\n    var isSetEnded =\n      (this.currentGame.sets[\n        this.currentGame.resultA + this.currentGame.resultB\n      ].a >= 25 &&\n        this.currentGame.sets[\n          this.currentGame.resultA + this.currentGame.resultB\n        ].a >=\n          this.currentGame.sets[\n            this.currentGame.resultA + this.currentGame.resultB\n          ].b +\n            2) ||\n      (this.currentGame.sets[\n        this.currentGame.resultA + this.currentGame.resultB\n      ].b >= 25 &&\n        this.currentGame.sets[\n          this.currentGame.resultA + this.currentGame.resultB\n        ].b >=\n          this.currentGame.sets[\n            this.currentGame.resultA + this.currentGame.resultB\n          ].a +\n            2);\n    return isSetEnded;\n  }\n\n  isGameOver() {\n    var winnerA =\n      this.currentGame.sets[this.currentGame.resultA + this.currentGame.resultB]\n        .a >=\n      this.currentGame.sets[this.currentGame.resultA + this.currentGame.resultB]\n        .b;\n    var gameOver =\n      this.isSetEnded() &&\n      (winnerA ? this.currentGame.resultA == 2 : this.currentGame.resultB == 2);\n    return gameOver;\n  }\n\n  createSet() {\n    var winnerA =\n      this.currentGame.sets[this.currentGame.resultA + this.currentGame.resultB]\n        .a >=\n      this.currentGame.sets[this.currentGame.resultA + this.currentGame.resultB]\n        .b;\n    if (winnerA) {\n      this.currentGame.resultA = this.currentGame.resultA + 1;\n    } else {\n      this.currentGame.resultB = this.currentGame.resultB + 1;\n    }\n    if (!this.gameOver) {\n      this.currentGame.sets.push({ a: 0, b: 0 });\n      this.pause = false;\n    } else {\n      this.currentGame.live = false;\n    }\n    this.updateGame();\n  }\n\n  rollBack() {\n    var winnerA =\n      this.currentGame.sets[this.currentGame.resultA + this.currentGame.resultB]\n        .a >\n      this.currentGame.sets[this.currentGame.resultA + this.currentGame.resultB]\n        .b;\n    if (winnerA) {\n      this.currentGame.sets[\n        this.currentGame.resultA + this.currentGame.resultB\n      ].a =\n        this.currentGame.sets[\n          this.currentGame.resultA + this.currentGame.resultB\n        ].a - 1;\n    } else {\n      this.currentGame.sets[\n        this.currentGame.resultA + this.currentGame.resultB\n      ].b =\n        this.currentGame.sets[\n          this.currentGame.resultA + this.currentGame.resultB\n        ].b - 1;\n    }\n    if (!this.isSetEnded()) {\n      this.pause = false;\n      this.gameOver = false;\n    }\n    this.updateGame();\n  }\n\n  updateGame() {\n    this.afoDatabase\n      .object(\n        \"/users/\" + this.authService.user.uid + \"/games/\" + this.currentGame.id\n      )\n      .update(this.currentGame);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/live-match/live-match.ts"],"sourceRoot":""}