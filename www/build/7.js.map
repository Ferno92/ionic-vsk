{"version":3,"sources":["../../src/pages/live-match/live-match.module.ts","../../src/pages/live-match/live-match.ts"],"names":[],"mappings":"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","file":"7.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { IonicPageModule } from 'ionic-angular';\r\nimport { LiveMatchPage } from './live-match';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    LiveMatchPage,\r\n  ],\r\n  imports: [\r\n    IonicPageModule.forChild(LiveMatchPage),\r\n  ],\r\n})\r\nexport class LiveMatchPageModule {}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/live-match/live-match.module.ts","import { Component, ViewChild } from \"@angular/core\";\r\nimport {\r\n  IonicPage,\r\n  NavController,\r\n  NavParams,\r\n  Events,\r\n  Platform,\r\n  AlertController,\r\n  Navbar\r\n} from \"ionic-angular\";\r\nimport { BasePage } from \"../../common/BasePage\";\r\nimport { AuthService } from \"../../services/auth.service\";\r\nimport {\r\n  AfoListObservable,\r\n  AngularFireOfflineDatabase,\r\n  AfoObjectObservable\r\n} from \"angularfire2-offline/database\";\r\nimport * as moment from \"moment\";\r\nimport { ScreenOrientation } from \"@ionic-native/screen-orientation\";\r\n\r\n/**\r\n * Generated class for the LiveMatchPage page.\r\n *\r\n * See https://ionicframework.com/docs/components/#navigation for more info on\r\n * Ionic pages and navigation.\r\n */\r\n\r\n@IonicPage({\r\n  name: \"live-match\",\r\n  segment: \"live-match/:id/:audienceId\"\r\n})\r\n@Component({\r\n  selector: \"page-live-match\",\r\n  templateUrl: \"live-match.html\"\r\n})\r\nexport class LiveMatchPage extends BasePage {\r\n  games: AfoListObservable<any[]>;\r\n  gameId: String;\r\n  audienceId: String;\r\n  currentGame: any;\r\n  pause = false;\r\n  gameOver = false;\r\n  isAudience = false;\r\n  iconExpand = \"expand\";\r\n  rotation = \"phone-landscape\";\r\n  isLandscape = false;\r\n  isLocked = false;\r\n  participantsRef: AfoObjectObservable<any>;\r\n  intervalId: number;\r\n  participants = [];\r\n\r\n  constructor(\r\n    public navCtrl: NavController,\r\n    public navParams: NavParams,\r\n    public events: Events,\r\n    public authService: AuthService,\r\n    public afoDatabase: AngularFireOfflineDatabase,\r\n    public alertCtrl: AlertController,\r\n    public platform: Platform,\r\n    private screenOrientation: ScreenOrientation\r\n  ) {\r\n    super(navCtrl, authService, alertCtrl, platform);\r\n    // this.teamA = navParams.get(\"teamA\");\r\n    // this.teamB = navParams.get(\"teamB\");\r\n    this.gameId = navParams.get(\"id\");\r\n    this.audienceId = navParams.get(\"audienceId\");\r\n    this.TAG = \"LiveMatchPage\";\r\n    //console.log(\"audience: \" + this.audienceId + \" - id: \" + this.gameId);\r\n    //console.log(navParams);\r\n  }\r\n\r\n  onUserChange(user: any) {\r\n    this.logOnConsole(this.TAG, \"on user change live\" + user);\r\n    if (user != null) {\r\n      var id = \"\";\r\n      this.logOnConsole(this.TAG, \"1, audience: \" + (this.audienceId == \"undefined\"));\r\n      if (this.audienceId == undefined || this.audienceId == \"undefined\" || this.audienceId == \":audienceId\") {\r\n        this.logOnConsole(this.TAG, \"2\");\r\n        id = this.authService.user.uid;\r\n        this.retrieveGameInfo(id);\r\n      } else {\r\n        this.logOnConsole(this.TAG, \"3\");\r\n        this.findUserFromAudienceId();\r\n      }\r\n    } else {\r\n      this.logOnConsole(this.TAG, \"4\");\r\n      this.findUserFromAudienceId();\r\n    }\r\n    this.logOnConsole(this.TAG, \"5\");\r\n    this.initOnScreenOrientationChange();\r\n  }\r\n\r\n  findUserFromAudienceId() {\r\n    var id = \"\";\r\n    this.isAudience = true;\r\n    var users = this.afoDatabase.list(\"/users\");\r\n    users.subscribe(userList => {\r\n      userList.forEach(user => {\r\n        if (user.audienceId == this.audienceId) {\r\n          id = user.$key;\r\n          this.retrieveGameInfo(id);\r\n        }\r\n      });\r\n    });\r\n  }\r\n\r\n  retrieveGameInfo(userId: string) {\r\n    var url = \"/users/\" + userId + \"/games\";\r\n    this.logOnConsole(this.TAG, url);\r\n    this.games = this.afoDatabase.list(url);\r\n    this.games.subscribe(items => {\r\n      var found = false;\r\n      // items is an array\r\n      items.forEach(item => {\r\n        if (item.id == this.gameId) {\r\n          this.logOnConsole(this.TAG, \"Item:\", item);\r\n          this.currentGame = item;\r\n          // this.initParticipants(userId);\r\n          if (this.currentGame.live) {\r\n            if (this.currentGame.sets == undefined) {\r\n              this.currentGame.sets = [{ a: 0, b: 0 }];\r\n            } else {\r\n              if (this.isSetEnded() && !this.isGameOver()) {\r\n                this.pause = true;\r\n              } else if (this.isGameOver()) {\r\n                this.gameOver = true;\r\n              }\r\n            }\r\n          }\r\n          found = true;\r\n          if (item.live && !this.isAudience) {\r\n            this.askBeforeGoBack = true;\r\n          }\r\n        }\r\n      });\r\n      if (!found) {\r\n        //TODO: error message\r\n      }\r\n    });\r\n  }\r\n\r\n  initParticipants(userId:string){\r\n    console.log(\"isAudience: \" + this.isAudience);\r\n    this.participantsRef = this.afoDatabase.object(\"/users/\" + userId + \"/games/\" + this.currentGame.id + \"/participants\");\r\n    var self = this;\r\n    this.participantsRef.subscribe(item => {\r\n      var value = [];\r\n      if(item !== null && item.$value !== null){\r\n        console.log(item);\r\n        value = item;\r\n      }\r\n      this.throttle(function(){\r\n        self.participants = [];\r\n        self.participants.push(value);\r\n      }, 5000);\r\n      \r\n      if(this.isAudience){\r\n        var spectatorId = this.authService.user != null ? this.authService.user.uid : this.authService.anonymousId;\r\n        var index = value.indexOf(spectatorId);\r\n        if(index >= 0){\r\n            //do nothing, already exist\r\n        }else{\r\n          value.push(spectatorId);\r\n          self.participantsRef.set(value);\r\n        }\r\n      }\r\n    });\r\n    var self = this;\r\n    if(!this.isAudience){\r\n      this.intervalId = setInterval(function(){\r\n          //clean db list to reupdate it\r\n          console.log(\"clean db list to reupdate it\");\r\n          self.participantsRef.set([]);\r\n      }, 30000);\r\n    }\r\n  }\r\n\r\n  ionViewDidLoad() {\r\n    this.onInit(undefined);\r\n  }\r\n\r\n  ionViewWillUnload(){\r\n    // console.log(this.TAG + \" ionViewWillUnload\");\r\n    clearInterval(this.intervalId);\r\n  }\r\n\r\n  ionViewWillEnter() {\r\n    this.events.publish(\"currentPage\", \"live-match\");\r\n  }\r\n\r\n  updateSetValue(team: String, increment: boolean) {\r\n    var teamValue =\r\n      team == \"a\"\r\n        ? this.currentGame.sets[\r\n            this.currentGame.resultA + this.currentGame.resultB\r\n          ].a\r\n        : this.currentGame.sets[\r\n            this.currentGame.resultA + this.currentGame.resultB\r\n          ].b;\r\n    if (increment) {\r\n      teamValue = teamValue + 1;\r\n    } else {\r\n      teamValue = teamValue == 0 ? 0 : teamValue - 1;\r\n    }\r\n\r\n    if (team == \"a\") {\r\n      this.currentGame.sets[\r\n        this.currentGame.resultA + this.currentGame.resultB\r\n      ].a = teamValue;\r\n    } else {\r\n      this.currentGame.sets[\r\n        this.currentGame.resultA + this.currentGame.resultB\r\n      ].b = teamValue;\r\n    }\r\n\r\n    if (this.isSetEnded() && !this.isGameOver()) {\r\n      this.pause = true;\r\n    } else if (this.isGameOver()) {\r\n      this.gameOver = true;\r\n    }\r\n    this.updateGame();\r\n  }\r\n\r\n  isSetEnded() {\r\n    var isSetEnded =\r\n      (this.currentGame.sets[\r\n        this.currentGame.resultA + this.currentGame.resultB\r\n      ].a >= 25 &&\r\n        this.currentGame.sets[\r\n          this.currentGame.resultA + this.currentGame.resultB\r\n        ].a >=\r\n          this.currentGame.sets[\r\n            this.currentGame.resultA + this.currentGame.resultB\r\n          ].b +\r\n            2) ||\r\n      (this.currentGame.sets[\r\n        this.currentGame.resultA + this.currentGame.resultB\r\n      ].b >= 25 &&\r\n        this.currentGame.sets[\r\n          this.currentGame.resultA + this.currentGame.resultB\r\n        ].b >=\r\n          this.currentGame.sets[\r\n            this.currentGame.resultA + this.currentGame.resultB\r\n          ].a +\r\n            2);\r\n    return isSetEnded;\r\n  }\r\n\r\n  isGameOver() {\r\n    var winnerA =\r\n      this.currentGame.sets[this.currentGame.resultA + this.currentGame.resultB]\r\n        .a >=\r\n      this.currentGame.sets[this.currentGame.resultA + this.currentGame.resultB]\r\n        .b;\r\n    var gameOver =\r\n      this.isSetEnded() &&\r\n      (winnerA ? this.currentGame.resultA == 2 : this.currentGame.resultB == 2);\r\n    return gameOver;\r\n  }\r\n\r\n  createSet() {\r\n    var winnerA =\r\n      this.currentGame.sets[this.currentGame.resultA + this.currentGame.resultB]\r\n        .a >=\r\n      this.currentGame.sets[this.currentGame.resultA + this.currentGame.resultB]\r\n        .b;\r\n    if (winnerA) {\r\n      this.currentGame.resultA = this.currentGame.resultA + 1;\r\n    } else {\r\n      this.currentGame.resultB = this.currentGame.resultB + 1;\r\n    }\r\n    if (!this.gameOver) {\r\n      this.currentGame.sets.push({ a: 0, b: 0 });\r\n      this.pause = false;\r\n    } else {\r\n      this.currentGame.live = false;\r\n    }\r\n    this.updateGame();\r\n  }\r\n\r\n  rollBack() {\r\n    var winnerA =\r\n      this.currentGame.sets[this.currentGame.resultA + this.currentGame.resultB]\r\n        .a >\r\n      this.currentGame.sets[this.currentGame.resultA + this.currentGame.resultB]\r\n        .b;\r\n    if (winnerA) {\r\n      this.currentGame.sets[\r\n        this.currentGame.resultA + this.currentGame.resultB\r\n      ].a =\r\n        this.currentGame.sets[\r\n          this.currentGame.resultA + this.currentGame.resultB\r\n        ].a - 1;\r\n    } else {\r\n      this.currentGame.sets[\r\n        this.currentGame.resultA + this.currentGame.resultB\r\n      ].b =\r\n        this.currentGame.sets[\r\n          this.currentGame.resultA + this.currentGame.resultB\r\n        ].b - 1;\r\n    }\r\n    if (!this.isSetEnded()) {\r\n      this.pause = false;\r\n      this.gameOver = false;\r\n    }\r\n    this.updateGame();\r\n  }\r\n\r\n  updateGame() {\r\n    this.afoDatabase\r\n      .object(\r\n        \"/users/\" + this.authService.user.uid + \"/games/\" + this.currentGame.id\r\n      )\r\n      .update(this.currentGame);\r\n  }\r\n\r\n  initOnScreenOrientationChange() {\r\n    this.screenOrientation.onChange().subscribe(type => {\r\n      this.logOnConsole(this.TAG, \"on change: \" + type);\r\n      if (\r\n        this.screenOrientation.type !=\r\n          this.screenOrientation.ORIENTATIONS.LANDSCAPE &&\r\n        this.screenOrientation.type !=\r\n          this.screenOrientation.ORIENTATIONS.LANDSCAPE_PRIMARY &&\r\n        this.screenOrientation.type !=\r\n          this.screenOrientation.ORIENTATIONS.LANDSCAPE_SECONDARY\r\n      ) {\r\n        this.isLandscape = false;\r\n        this.rotation = \"phone-landscape\";\r\n      } else {\r\n        this.isLandscape = true;\r\n        this.rotation = \"phone-portrait\";\r\n      }\r\n    });\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/live-match/live-match.ts"],"sourceRoot":""}